<!DOCTYPE html>
<html>
<head>
    <title>Chat App</title>
</head>
<body>
    <div class="chat-container">
        <div class="chat-messages" id="chat-messages">
            <!-- メッセージがここに表示されます -->
        </div>
        <div class="chat-input">
            <input type="text" id="message-input" placeholder="メッセージを入力してください">
            <button id="send-button">送信</button>
        </div>
    </div>

    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>
    <script>
        // Firebaseの初期化
        var firebaseConfig = {
  apiKey: "AIzaSyBVGCRikCSnxTCnnIHHK15711fUQJ50GL0",
  authDomain: "hamanan1.firebaseapp.com",
  databaseURL: "https://hamanan1-default-rtdb.firebaseio.com",
  projectId: "hamanan1",
  storageBucket: "hamanan1.appspot.com",
  messagingSenderId: "939524742350",
  appId: "1:939524742350:web:8de2d227935bbab1c0049f",
  measurementId: "G-G536JMTWHC"
        };
        firebase.initializeApp(firebaseConfig);

        // メッセージ送信ボタンのクリックイベントを処理する関数
        function sendMessage() {
            var messageInput = document.getElementById("message-input");
            var message = messageInput.value;

            if (message.trim() !== "") {
                var messagesRef = firebase.database().ref('messages');
                var newMessageRef = messagesRef.push();
                newMessageRef.set({
                    message: message
                });

                messageInput.value = "";
            }
        }

        // メッセージの受信
        var messagesRef = firebase.database().ref('messages');
        messagesRef.on('child_added', function(snapshot) {
            var message = snapshot.val().message;
            var chatMessages = document.getElementById("chat-messages");
            var messageElement = document.createElement("p");
            messageElement.textContent = message;
            chatMessages.appendChild(messageElement);
        });

        // メッセージ送信ボタンのクリックイベントを設定
        var sendButton = document.getElementById("send-button");
        sendButton.addEventListener("click", sendMessage);
    </script>
</body>
</html>
