<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>リアルタイム音声文字起こし</title>
</head>
<body>
  <h1>リアルタイム音声文字起こし</h1>
  <div id="transcriptionResult"></div>

  <script>
    const recognition = new webkitSpeechRecognition(); // Chrome/Edge 用のプレフィックスが必要
    recognition.lang = 'ja-JP';
    recognition.continuous = true;
    recognition.interimResults = true;

    recognition.onresult = event => {
      const result = event.results[event.results.length - 1];
      const transcript = result[0].transcript;

      const transcriptionResult = document.getElementById('transcriptionResult');
      transcriptionResult.textContent = transcript;
    };

    recognition.onerror = event => {
      console.error('音声認識エラー:', event.error);
    };

    recognition.onend = () => {
      // 音声認識が終了したときの処理（必要に応じて追加）
    };

    recognition.start();
  </script>
</body>
</html>
